<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Mogaland-Plume Simulator</title><script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.umd.min.js" defer></script><script src="https://unpkg.com/@walletconnect/ethereum-provider@2/dist/index.umd.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script><script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.2.0/dist/chartjs-chart-financial.min.js"></script><style>:root{--primary:#0d6efd;--dark:#0a2540;--darker:#071a2e;--light:#f8f9fa;--bell:#ffcc00;--success:#28a745;--danger:#dc3545;--card-bg:#1e293b;--border:#334155;--progress:#3b82f6;--progress-end:#60a5fa}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Arial,sans-serif;background:var(--darker);color:var(--light);min-height:100vh;display:flex;flex-direction:column}.login-container{background:rgba(0,0,0,0.5);border-radius:20px;padding:80px 40px;width:100%;max-width:500px;text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.1);margin:120px auto}h1{font-size:3.2rem;margin-bottom:12px}.subtitle{font-size:1.3rem;opacity:0.8;margin-bottom:50px}.login-option{background:var(--primary);color:white;border:none;padding:18px;font-size:1.3rem;border-radius:12px;cursor:pointer;margin:20px 0;width:100%;transition:all 0.3s}.login-option:hover{background:#0b5ed7;transform:scale(1.02)}.input-field{width:100%;padding:14px;margin:10px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05);color:white;font-size:1.1rem}.main-app{flex:1;display:flex;flex-direction:column;position:relative}header{padding:20px;display:flex;justify-content:flex-end;align-items:center;gap:12px}.top-btn{background:rgba(13,110,253,0.3);color:white;border:1px solid var(--primary);padding:10px 18px;font-size:1rem;border-radius:30px;cursor:pointer;transition:all 0.3s}.top-btn:hover{background:var(--primary);transform:scale(1.05)}.top-btn.connected{background:var(--success);border-color:var(--success)}.nav-bar{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.6);backdrop-filter:blur(10px);border-radius:60px;padding:12px 20px;display:flex;gap:12px;box-shadow:0 8px 30px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.1);z-index:100}.nav-btn{background:rgba(13,110,253,0.2);color:white;border:none;padding:12px 20px;font-size:1rem;border-radius:40px;cursor:pointer;transition:all 0.3s;white-space:nowrap}.nav-btn:hover,.nav-btn.active{background:var(--primary);transform:scale(1.08)}.content{flex:1;padding:40px 20px;margin-top:60px;text-align:center;overflow-y:auto}.hidden{display:none!important}.notification{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(255,204,0,0.2);border:1px solid var(--bell);color:white;padding:14px 24px;border-radius:12px;display:flex;align-items:center;gap:12px;z-index:1000;animation:bell 1.5s;max-width:90%}@keyframes bell{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.05)}}.card{background:var(--card-bg);border-radius:16px;padding:24px;border:1px solid var(--border);box-shadow:0 8px 25px rgba(0,0,0,0.5);margin:20px 0}.card h3{color:#60a5fa;margin-bottom:16px;text-align:center;font-size:1.4em}.btn-primary{width:100%;padding:14px;background:linear-gradient(90deg,var(--primary),var(--progress-end));border:none;border-radius:12px;color:white;font-size:1.1em;cursor:pointer;margin:8px 0;transition:all 0.3s}.btn-primary:hover{transform:scale(1.03)}.progress-bar{background:var(--border);border-radius:999px;height:14px;overflow:hidden;margin:12px 0}.progress-fill{background:linear-gradient(90deg,var(--progress),var(--progress-end));height:100%;transition:width 0.6s ease}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;max-width:960px;margin:0 auto 40px}.stats-card{background:var(--card-bg);border:1px solid var(--border);border-radius:16px;padding:20px;text-align:center;min-height:160px;box-shadow:0 4px 15px rgba(0,0,0,0.3)}.stats-card h4{color:#94a3b8;font-size:1.1em;margin-bottom:12px}.stats-value{font-size:2.6em;font-weight:bold}.nft-card{background:var(--card-bg);border-radius:16px;overflow:hidden;transition:all 0.25s;position:relative}.nft-card:hover{transform:translateY(-6px);box-shadow:0 20px 25px -5px rgba(0,0,0,0.5)}.wallet-choice{background:rgba(13,110,253,0.3);color:#fff;border:1px solid var(--primary);padding:12px 16px;border-radius:10px;cursor:pointer;margin:6px 0;width:100%;transition:0.2s}.wallet-choice:hover{background:var(--primary);transform:scale(1.02)}</style></head><body><div class="login-container" id="loginPage"><h1>Mogaland-Plume Simulator</h1><p class="subtitle">Connect wallet or use mock login (demo only)</p><button class="login-option" onclick="showWalletOptions()">Connect Wallet</button><button class="login-option" onclick="showEmailLogin()">Login with Email</button><button class="login-option" onclick="showXLogin()">Login with X (@username)</button><div id="walletOptions" class="hidden"><h3 style="margin:20px 0;">Select Wallet</h3><button class="wallet-choice" onclick="connectMetaMask()">MetaMask</button><button class="wallet-choice" onclick="connectOKX()">OKX Wallet</button><button class="wallet-choice" onclick="connectTrustWallet()">Trust Wallet</button><button class="wallet-choice" onclick="connectWalletConnectV2()">WalletConnect</button></div><div id="emailLogin" class="hidden"><input type="email" id="emailInput" class="input-field" placeholder="Gmail or Yahoo email"><button class="login-option" onclick="sendEmailCode()">Send Mock OTP</button><input type="text" id="otpInput" class="input-field hidden" placeholder="OTP (123456)"><button class="login-option hidden" id="verifyOtpBtn" onclick="verifyEmailOtp()">Verify</button></div><div id="xLogin" class="hidden"><input type="text" id="xInput" class="input-field" placeholder="@yourusername"><button class="login-option" onclick="confirmXLogin()">Confirm</button></div></div><div class="main-app hidden" id="mainApp"><header><button class="top-btn" id="walletBtn">Connect Wallet</button><button class="top-btn" onclick="showProfile()">Profile</button></header><h1 style="text-align:center;margin:20px 0;">Mogaland-Plume Simulator</h1><div class="content" id="content"><p>Select an option below to explore the simulator.</p></div><div class="nav-bar"><button class="nav-btn" onclick="showSection('learning',event)">Learning</button><button class="nav-btn" onclick="showSection('market',event)">Market</button><button class="nav-btn" onclick="showSection('swap',event)">Swap</button><button class="nav-btn" onclick="showSection('bridge',event)">Bridge</button><button class="nav-btn" onclick="showSection('nft',event)">NFT</button></div></div><script>const PLUME_CHAIN_ID=98866;const PLUME_CHAIN_HEX='0x18232';const PLUME_RPC="https://rpc.plume.org";const PLUME_EXPLORER="https://explorer.plume.org";let provider=null;let userAddress=null;let plumeBalance='0.00';let mogalandPoints=0;let stakedMoga=0;let stakedNFTs=0;let nftRewards=0;let currentQuestionIndex=0;let tokenTreasury=100000;const mockOtp="123456";function showNotification(msg,error=false){const div=document.createElement('div');div.className='notification';div.style.borderColor=error?'var(--danger)':'var(--bell)';const icon=document.createElement('span');icon.textContent=error?'âš ï¸':'ðŸ””';const text=document.createElement('span');text.textContent=String(msg);div.appendChild(icon);div.appendChild(text);document.body.appendChild(div);setTimeout(()=>div.remove(),6000)}function showWalletOptions(){toggleSections('walletOptions')}function showEmailLogin(){toggleSections('emailLogin')}function showXLogin(){toggleSections('xLogin')}function toggleSections(showId){['walletOptions','emailLogin','xLogin'].forEach(id=>document.getElementById(id).classList.toggle('hidden',id!==showId))}function sendEmailCode(){const email=document.getElementById('emailInput').value.trim();if(!email.includes('@gmail.com')&&!email.includes('@yahoo.com'))return showNotification("Use Gmail or Yahoo email.",true);showNotification(`Mock OTP sent: ${mockOtp}`);document.getElementById('otpInput').classList.remove('hidden');document.getElementById('verifyOtpBtn').classList.remove('hidden')}function verifyEmailOtp(){if(document.getElementById('otpInput').value.trim()===mockOtp)enterDashboard("Email");else showNotification("Wrong OTP",true)}function confirmXLogin(){const handle=document.getElementById('xInput').value.trim();if(!handle.startsWith('@'))return showNotification("Invalid @username",true);enterDashboard("X")}function enterDashboard(method){showNotification(`Entered via ${method} (simulator mode)`,false);document.getElementById('loginPage').classList.add('hidden');document.getElementById('mainApp').classList.remove('hidden')}async function ensurePlumeNetwork(){if(!window.ethereum)return;const params={chainId:PLUME_CHAIN_HEX,chainName:'Plume',nativeCurrency:{name:'PLUME',symbol:'PLUME',decimals:18},rpcUrls:[PLUME_RPC],blockExplorerUrls:[PLUME_EXPLORER]};try{await window.ethereum.request({method:'wallet_switchEthereumChain',params:[{chainId:params.chainId}]})}catch(err){if(err.code===4902){await window.ethereum.request({method:'wallet_addEthereumChain',params:[params]})}else{throw err}}}async function connectWallet(walletType,getProvider){try{if(typeof ethers==='undefined'){showNotification("Ethers library loading... Please wait.",false);await new Promise(resolve=>setTimeout(resolve,2000))}provider=getProvider();await provider.send("eth_requestAccounts",[]);const network=await provider.getNetwork();if(network.chainId!==PLUME_CHAIN_ID&&window.ethereum){await ensurePlumeNetwork()}const signer=provider.getSigner();userAddress=(await signer.getAddress()).toLowerCase();const finalNet=await provider.getNetwork();const status=finalNet.chainId===PLUME_CHAIN_ID?"Plume Network":`Wrong network (ID: ${finalNet.chainId})`;const btn=document.getElementById('walletBtn');btn.textContent=`Connected: ${userAddress.slice(0,6)}...${userAddress.slice(-4)}`;btn.classList.add('connected');showNotification(`Connected via ${walletType} â€“ ${status}`,finalNet.chainId!==PLUME_CHAIN_ID);updateTokenBalances();enterDashboard(walletType)}catch(e){showNotification("Connection failed: "+(e.message||"Error"),true);console.error("Wallet error:",e)}}function connectMetaMask(){if(!window.ethereum)return showNotification("MetaMask not found",true);connectWallet("MetaMask",()=>new ethers.providers.Web3Provider(window.ethereum))}function connectOKX(){if(!window.okxwallet)return showNotification("OKX not found",true);connectWallet("OKX",()=>new ethers.providers.Web3Provider(window.okxwallet))}function connectTrustWallet(){if(!window.ethereum)return showNotification("Trust not detected",true);connectWallet("Trust",()=>new ethers.providers.Web3Provider(window.ethereum))}async function connectWalletConnectV2(){try{const wc=await window.EthereumProvider.init({projectId:'51e44cec955a70475db9cc1900283704',chains:[PLUME_CHAIN_ID],rpcMap:{[PLUME_CHAIN_ID]:PLUME_RPC},showQrModal:true,methods:['eth_sendTransaction','personal_sign','eth_signTypedData_v4'],events:['chainChanged','accountsChanged']});await wc.connect();connectWallet("WalletConnect",()=>new ethers.providers.Web3Provider(wc))}catch(e){showNotification("WalletConnect v2 error: "+(e.message||"Error"),true)}}async function updateTokenBalances(){try{if(!provider||!userAddress){plumeBalance="0.00"}else{const plumeWei=await provider.getBalance(userAddress);plumeBalance=ethers.utils.formatEther(plumeWei)}}catch(err){showNotification("Failed to load balances",true);plumeBalance="0.00"}const el=document.getElementById('plumeBalance');if(el)el.textContent=parseFloat(plumeBalance).toFixed(4)}function showProfile(){showNotification("Profile: Connected to "+userAddress,false)}function showSection(id,event){document.querySelectorAll('.nav-btn').forEach(btn=>btn.classList.remove('active'));if(event&&event.target)event.target.classList.add('active');const content=document.getElementById('content');content.innerHTML='';if(id==='learning'){content.innerHTML=`<div class="card"><h3>Learning Quiz</h3><p id="qText"></p><div id="optionsContainer"></div><button class="btn-primary" onclick="submitAnswer()">Submit</button></div><div class="card"><h3>Mogaland Points: <span id="pointsDisplay">0</span></h3><div class="progress-bar"><div class="progress-fill" id="pointProgress" style="width:0%"></div></div><p>Staked: <strong id="stakedDisplay">0 MOGA</strong></p><input type="number" id="stakeAmount" placeholder="Stake amount" style="width:100%;padding:8px;margin:10px 0;"><button class="btn-primary" onclick="confirmStake()">Stake MOGA</button></div>`;loadQuestion()}else if(id==='market'){content.innerHTML=`<div class="card"><h3>Market Prediction</h3><p>Select an asset to view price chart</p><select id="assetSelect" onchange="selectAsset()" style="width:100%;padding:10px;margin:10px 0;color:black;"><option value="">Choose Asset...</option><option value="BTC">Bitcoin</option><option value="ETH">Ethereum</option><option value="MOGA">MOGA Token</option></select><canvas id="priceChart" height="300"></canvas><input type="number" id="betAmount" placeholder="Bet amount" style="width:100%;padding:8px;margin:10px 0;"><button class="btn-primary" onclick="placeBet()">Place Bet</button></div>`}else if(id==='swap'){content.innerHTML=`<div class="card" style="max-width:500px;margin:0 auto;"><h3>Swap Tokens</h3><select id="fromToken" style="width:100%;padding:10px;margin:10px 0;color:black;"><option value="PLUME">PLUME</option><option value="MOGA">MOGA</option><option value="USDC">USDC</option></select><select id="toToken" style="width:100%;padding:10px;margin:10px 0;color:black;"><option value="MOGA">MOGA</option><option value="PLUME">PLUME</option><option value="USDC">USDC</option></select><input type="number" id="swapAmount" placeholder="Amount" style="width:100%;padding:8px;margin:10px 0;"><p>Balance: <strong id="plumeBalance">Loading...</strong> PLUME</p><button class="btn-primary" onclick="confirmSwap()">Swap Now</button></div>`}else if(id==='bridge'){content.innerHTML=`<div class="card" style="max-width:500px;margin:0 auto;"><h3>Bridge Assets</h3><select id="fromChain" style="width:100%;padding:10px;margin:10px 0;color:black;"><option value="ethereum">Ethereum</option><option value="plume">Plume</option><option value="bnb">BNB Chain</option></select><input type="number" id="bridgeAmount" placeholder="Amount" style="width:100%;padding:8px;margin:10px 0;"><select id="toChain" style="width:100%;padding:10px;margin:10px 0;color:black;"><option value="plume">Plume</option><option value="ethereum">Ethereum</option><option value="bnb">BNB Chain</option></select><button class="btn-primary" onclick="confirmBridge()">Bridge Now</button></div>`}else if(id==='nft'){content.innerHTML=`<div class="stats-grid"><div class="stats-card"><h4>Staked NFTs</h4><div class="stats-value" style="color:#60a5fa;">${stakedNFTs}</div></div><div class="stats-card"><h4>Rewards</h4><div class="stats-value" style="color:#10b981;">${nftRewards.toFixed(2)} PLUME</div></div><div class="stats-card"><h4>APY</h4><div class="stats-value" style="color:#c084fc;">18.5%</div></div></div><div class="card"><h3>NFT Staking</h3><p>Select NFTs to stake (1-5 shown)</p><div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin:20px 0;"><div class="nft-card" style="padding:10px;cursor:pointer;border:2px solid #60a5fa;" onclick="toggleNFT(this,1)">NFT #1</div><div class="nft-card" style="padding:10px;cursor:pointer;border:2px solid var(--border);" onclick="toggleNFT(this,2)">NFT #2</div><div class="nft-card" style="padding:10px;cursor:pointer;border:2px solid var(--border);" onclick="toggleNFT(this,3)">NFT #3</div><div class="nft-card" style="padding:10px;cursor:pointer;border:2px solid var(--border);" onclick="toggleNFT(this,4)">NFT #4</div><div class="nft-card" style="padding:10px;cursor:pointer;border:2px solid var(--border);" onclick="toggleNFT(this,5)">NFT #5</div></div><button class="btn-primary" onclick="stakeNFTs()">Stake Selected</button><button class="btn-primary" style="background:linear-gradient(90deg,var(--danger),#f87171);" onclick="unstakeNFTs()">Unstake</button><button class="btn-primary" style="background:linear-gradient(90deg,#10b981,#34d399);" onclick="claimRewards()">Claim Rewards</button></div>`}}const questions=[{q:"What is Plume?",opts:["A) Blockchain","B) Token","C) Layer 2"],correct:0},{q:"What does MOGA do?",opts:["A) Staking","B) Governance","C) All above"],correct:2}];function loadQuestion(){if(currentQuestionIndex<questions.length){const q=questions[currentQuestionIndex];document.getElementById('qText').textContent=q.q;const container=document.getElementById('optionsContainer');container.innerHTML='';q.opts.forEach((opt,i)=>{container.innerHTML+=`<label><input type="radio" name="q" value="${i}"> ${opt}</label><br>`})}else{document.getElementById('qText').textContent='Quiz Complete!';document.getElementById('optionsContainer').innerHTML='<button class="btn-primary" onclick="restartQuiz()">Restart</button>'}}function submitAnswer(){const checked=document.querySelector('input[name="q"]:checked');if(!checked)return showNotification("Select an answer",true);const selected=parseInt(checked.value);const correct=questions[currentQuestionIndex].correct;if(selected===correct){mogalandPoints+=20;showNotification("Correct! +20 Points",false)}else{mogalandPoints=Math.max(0,mogalandPoints-10);showNotification("Wrong! -10 Points",true)}document.getElementById('pointsDisplay').textContent=mogalandPoints;document.getElementById('pointProgress').style.width=(mogalandPoints/200)*100+'%';currentQuestionIndex++;loadQuestion()}function restartQuiz(){currentQuestionIndex=0;mogalandPoints=0;loadQuestion()}function confirmStake(){const amt=parseFloat(document.getElementById('stakeAmount').value);if(isNaN(amt)||amt<=0)return showNotification("Invalid amount",true);stakedMoga+=amt;document.getElementById('stakedDisplay').textContent=stakedMoga;document.getElementById('stakeAmount').value='';showNotification(`Staked ${amt} MOGA`,false)}function selectAsset(){showNotification("Asset selected",false)}function placeBet(){const amt=parseFloat(document.getElementById('betAmount').value);if(isNaN(amt)||amt<=0)return showNotification("Invalid bet",true);const win=Math.random()>0.5;if(win){mogalandPoints+=amt*2;showNotification("You won! +"+amt*2,false)}else{mogalandPoints=Math.max(0,mogalandPoints-amt);showNotification("You lost -"+amt,true)}document.getElementById('pointsDisplay').textContent=mogalandPoints}function confirmSwap(){const amt=parseFloat(document.getElementById('swapAmount').value);if(isNaN(amt)||amt<=0)return showNotification("Invalid amount",true);showNotification(`Swapped ${amt} tokens`,false)}function confirmBridge(){const amt=parseFloat(document.getElementById('bridgeAmount').value);if(isNaN(amt)||amt<=0)return showNotification("Invalid amount",true);showNotification(`Bridged ${amt} tokens`,false)}function toggleNFT(el,id){el.style.borderColor=el.style.borderColor==='rgb(96, 165, 250)'?'var(--border)':'#60a5fa'}function stakeNFTs(){stakedNFTs+=2;nftRewards+=5;showNotification("NFTs staked!",false);showSection('nft')}function unstakeNFTs(){stakedNFTs=Math.max(0,stakedNFTs-1);showNotification("NFTs unstaked",false);showSection('nft')}function claimRewards(){const claimed=nftRewards;nftRewards=0;mogalandPoints+=claimed*10;showNotification(`Claimed ${claimed} PLUME!`,false);showSection('nft')}window.addEventListener('load',()=>{console.log('App loaded, waiting for ethers...');setTimeout(()=>{if(typeof ethers!=='undefined'){console.log('Ethers loaded successfully');showSection('swap')}else{console.warn('Ethers not loaded yet')}},1000)});</script></body></html>